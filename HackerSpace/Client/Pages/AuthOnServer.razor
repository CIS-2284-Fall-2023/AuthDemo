@page "/ServerAuth"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication;
@inject HttpClient Http

<h3>AuthOnServer</h3>
<p>@message</p>
@code {
    string message;

    protected async override Task OnInitializedAsync()
    {
        try
        {            
            message = await Http.GetStringAsync("api/Auth");
        }
        catch (AccessTokenNotAvailableException exc)
        {
            message = "Not logged in.";
        }
    }
}
